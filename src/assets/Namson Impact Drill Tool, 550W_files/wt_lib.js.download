WT.consent_checkInitialState&&WT.consent_updateState&&(WT.consent={status:!1,queue:[],releaseQueue:function(){WT.consent.queue.forEach(function(e){switch(e.type){case"document.cookie":document.cookie=e.value;break;case"setProjectCookie":WT.setProjectCookie.apply(this,e.value);break;case"pageview":e.z1dd6(e.zae74,e.zb803,!0);break;case"WT.optimize.conversion":WT.optimize.conversion(e.values.za69d,e.values.external)}})},init:function(e){try{if(e.checkInitialState()){WT.consent.status=!0;return}}catch(t){}var r=function(){WT.consent.status=!0,WT.consent.releaseQueue()};try{e.updateState(r)}catch(a){}}},WT.consent.init({checkInitialState:WT.consent_checkInitialState,updateState:WT.consent_updateState})),void 0===WT.helpers.hasLS&&(WT.helpers.hasLS=function(){try{return localStorage.setItem("wt_lstest","true"),localStorage.getItem("wt_lstest"),localStorage.removeItem("wt_lstest"),!0}catch(e){return!1}}()),WT.cookieStrategy&&("localstorage"!==WT.cookieStrategy||WT.helpers.hasLS)||(WT.cookieStrategy="cookie"),WT.getProjectCookies=function(){var e=WT.optimizeModule.prototype.wtConfigObj.s_keyToken,t={};return(document.cookie.match(/_wt.project[^=$]+/ig)||[]).forEach(function(r){var a=decodeURIComponent(WT.helpers.cookie.get(r)).split("||"),i=a[1].split("-").reverse(),n=i.pop(),o=i.pop(),s=i.reverse().join("-"),c=r.replace(/_wt.project/i,"_wt.control"),u={runid:o,testGroup:"default",testid:n,throttleResult:a[3],trackid:s,typeid:parseInt(a[0])};"undefined"!==a[2]&&(u.pageTrack="true"===a[2]),a[4]&&"undefined"!==a[4]&&(u.targetData=JSON.parse(a[4])),"undefined"!==a[5]&&(u.throttleRunVersion=a[5]),"undefined"!==a[6]&&(u.throttleTestVersion=a[5]),u=JSON.stringify(u);var d=WT.optimize.Library.z71df(u,e);t[c]={value:d}}),"localstorage"===WT.cookieStrategy&&Object.keys(localStorage).forEach(function(r){if(r.match(/^_wt.project/))try{var a=WT.optimize.Library.z71df(localStorage.getItem(r),e);r=r.replace(/_wt.project/i,"_wt.control"),a&&(t[r]={value:a})}catch(i){}}),t},WT.setProjectCookie=function(e,t,r,a){if(WT.consent&&!1===WT.consent.status){WT.consent.queue.push({type:"setProjectCookie",value:arguments});return}e=e.replace(/_wt.control/i,"_wt.project");var i=WT.optimize.Library.z7f69(t,WT.optimizeModule.prototype.wtConfigObj.s_keyToken);if(t=JSON.parse(i),"localstorage"===WT.cookieStrategy)try{return localStorage.setItem(e,i),i}catch(n){}var o=t.typeid+"||"+t.testid+"-"+t.runid+"-"+t.trackid+"||"+t.pageTrack+"||"+(t.throttleResult||"undefined");t.targetData?o+="||"+JSON.stringify(t.targetData):o+="||undefined",o+="||"+(t.throttleRunVersion||"undefined")+"||"+(t.throttleTestVersion||"undefined"),WT.helpers.cookie.set(e,o,r/864e5)},WT.buildProjectCookies=function(){let e=document.cookie.match(/_wt.control[^=]+/ig);e&&e.forEach(function(e){var t=WT.helpers.cookie.get(e);WT.setProjectCookie(e,t,WT.optimizeModule.prototype.wtConfigObj.controlCookieTimeout),WT.helpers.cookie.del(e)})},WT.blockCodeRender=[],WT.blockPV=[],"undefined"==typeof WT&&(WT={}),void 0===WT.optimize&&(WT.optimize={}),WT.CSURL="https://collect.webtrends-optimize.com/producer",WT._cookieHelper={set:function(e,t,r,a,i){var n,o,s="";if(r){var c=new Date;c.setTime(c.getTime()+24*r*36e5),s="; expires="+c.toUTCString()}else s="";sPath=a||"/",i=i||(o=(n=n||document.domain).match(/(^\w+$)|([^\.\s]+\.co\.[^\.\s]+$)|([^\.\s]+\.com\.[^\.\s]+$)|([^\.\s]+\.[^\.\s]+$)/))&&o[0]||document.domain,document.cookie=e+"="+encodeURIComponent(t)+s+"; path="+sPath+"; domain="+i},get:function(e){for(var t,r=e+"=",a=document.cookie.split(";"),i=0;i<a.length;i++){for(var n=a[i];" "==n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(r))return decodeURIComponent(t=n.substring(r.length,n.length))}return null},del:function(e){this.set(e,"",-1)},has:function(e,t){var r=this.get(e);return!!r&&(void 0===t||r==t)}},WT.optimize.PayloadBuilder=function(){var e={};e[this.MODE]="1",this.zb096f=this.setGuid=function(t){return e[this.GUID]=t,this},this.z3965a=this.setProjectTypeId=function(t){return e[this.PROJECT_TYPE_ID]=t,this},this.z3d54a=this.setProjectId=function(t){return e[this.PROJECT_ID]=t,this},this.zd871a=this.setTestId=function(t){return e[this.TEST_ID]=t,this},this.zb63c5=this.setMode=function(t){return e[this.MODE]=t,this},this.z6cdf8=this.setAccountId=function(t){return e[this.ACCOUNT_ID]=t,this},this.z9d870=this.setExperimentId=function(t){return WT.hasVal(t)&&"NOTRACKID"!==t&&(e[this.EXPERIMENT_ID]=t),this},this.set=this.set=function(t,r){return e[t]=r,this},this.z35926=this.build=function(){return WT.common.extendArray(this.required).forEach(function(t){if(!WT.hasVal(e[t]))throw Error("Required Param: "+t+" not in "+WT.common.JSONPrettify(e))}),e},this.z35cbc=this.copyFrom=function(e){return this.zb096f(e["opt.guid"]).z3965a(e["opt.project_type_id"]).z3d54a(e["opt.project_id"]).zd871a(e["opt.test_id"]).zb63c5(e["opt.mode"]).z9d870(e["opt.experiment_id"]).z6cdf8(e["opt.account_id"]),this}},WT.optimize.PayloadBuilder.prototype={ACCOUNT_ID:"opt.account_id",GUID:"opt.guid",PROJECT_TYPE_ID:"opt.project_type_id",PROJECT_ID:"opt.project_id",TEST_ID:"opt.test_id",MODE:"opt.mode",EXPERIMENT_ID:"opt.experiment_id",required:["opt.guid","opt.project_type_id","opt.project_id","opt.test_id","opt.mode"]},WT.optimize.zd67f=function(z1a23){var z32da=this,z0eb2=!1,z67fd=[],z706a=[],z1aff=null,zfe37=0,z3065=0;WTEvent.CONTROL_RESPONSE="control_response",WTEvent.CONTROL_PART="control_part",WTEvent.zb899="control_abort",WTEvent.z0aef="control_invalid",WTEvent.z5749="control_preprocess",WTEvent.z257b="control_process",WTEvent.z85a2="control_pageview",WTEvent.z6938="control_conversion",WTEvent.zb2de="control_conversionevent",WTEvent.DOM_ONLOAD="dom_onload",WTEvent.PRECONVERSIONEVENT="preconversionevent",WTEvent.CONVERSIONEVENT="conversionevent",WTEvent.z9c02="failed",WTEvent.POSTEXECUTE="postexecute",this.z95e8=function(){WT._addEventHandler(WTEvent.z9c02,zcbc2,zcbc2),WT._addEventHandler(WTEvent.DONE,za01b,za01b),WT._addEventHandler(WTEvent.zb899,this.z1028,this.z1028),WT._addEventHandler(WTEvent.z0aef,this.ze5d9,this.z1028),WT._addEventHandler(WTEvent.z85a2,this.z4708,this.z3c7c),WT._addEventHandler(WTEvent.z6938,this.z5b2c,this.z3c7c),WT._addEventHandler(WTEvent.z5749,this.zede2),WT._addEventHandler(WTEvent.z257b,this.z348e),WT._addEventHandler(WTEvent.zb2de,this.zd78e),WT._addEventHandler(WTEvent.EXECUTE,this.zc58a);var e=function(){!z0eb2&&(z0eb2=!0,WT._fireEvent(new WTEvent(WTEvent.DOM_READY,WTEvent.STATUS_SUCCESS),!0))},t=function(){!z1a23.zefb8&&(z1a23.zefb8=!0,WT._fireEvent(new WTEvent(WTEvent.DOM_ONLOAD,WTEvent.STATUS_SUCCESS),!0))};try{if(document.addEventListener&&(("complete"===document.readyState||void 0===document.readyState)&&e(),document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1),e()},!1),/WebKit|Opera/i.test(navigator.userAgent)))var r=setInterval(function(){/loaded|complete/.test(document.readyState)&&(clearInterval(r),e())},10);document.attachEvent&&(("complete"===document.readyState||"loading"===document.readyState)&&e(),document.attachEvent("onreadystatechange",function(){("complete"===document.readyState||"loading"===document.readyState)&&(document.detachEvent("onreadystatechange",arguments.callee),e())})),window.addEventListener?window.addEventListener("load",function(){window.removeEventListener("load",arguments.callee,!1),e()},!1):window.attachEvent&&window.attachEvent("onload",function(){window.detachEvent("onload",arguments.callee,!1),e()}),z1a23.zefb8?t():window.addEventListener?window.addEventListener("load",function(){window.removeEventListener("load",arguments.callee,!1),t()},!1):window.attachEvent&&window.attachEvent("onload",function(){window.detachEvent("onload",arguments.callee,!1),t()}),WT.refresh||(WT.refresh=function(){try{z1a23.g_hasEmptySetup=!1,z1a23.g_Aborted=!1,z1a23.g_RunObjList=[],z1a23.g_ParamsList=[],z1a23.g_PageTimer=null,z1a23.g_PageStartTime=null,z1a23.g_PageEndTime=null,z1a23.Preview={},z1a23.z95e8();var e=z1a23.Library.z454c;z1a23.Library=new z1a23.zd67f(WT),z1a23.Library.z454c=e}catch(t){WT.Debug.error("refresh: Fatal Error, check error message for details",0,t);var r=new WTEvent(t.zbee9?t.zbee9:WTEvent.ABORT,WTEvent.STATUS_FAULT,this);r.params.error=t,WT._fireEvent(r)}}),WT.execute||(WT.execute=function(e,t){WT.refresh(),z1a23.setup(e,t),WT._fireEvent(new WTEvent(WTEvent.POSTEXECUTE,WTEvent.STATUS_SUCCESS))})}catch(a){e(),t()}WT.Debug.info("library: Server library initialized")};var za01b=function(e){z1a23.g_done=!0,WT.Debug.info("done: Webtrends Optimize is done processing the page. ("+(z1a23.g_PageEndTime-z1a23.g_PageStartTime)+" ms)"),clearTimeout(z1a23.g_PageTimer)},zcbc2=function(e){var t=e.target;WT.Debug.error("error: ["+t.params.testAlias+"] failed to execute on "+t.z019b+" step."),t.z6848=zf9ac.z3064,"control"==t.params.s_requestType&&(t.z019b==zf9ac.z38a4?(z1a23.g_RunObjList.push(t),WT._fireEvent(new WTEvent(WTEvent.ABORT,WTEvent.STATUS_FAULT))):t.z019b==zf9ac.za651||t.z019b==zf9ac.z971e?z32da.z2d27():(z1a23.g_RunObjList.push(t),WT._fireEvent(new WTEvent(WTEvent.ABORT,WTEvent.STATUS_FAULT))))};this.getOptData=function(e,t){var r=WT.optimize.lookup(e),a={},i={},n="opt.";return!r||WT.hasVal(t)&&!t(r)?a:((a=WT.common.extendObject(r.z83a5e())).forEach(function(e,t){i[n+t]=e}),i)},this.z9318a=function(e){var t=WT.common.TrackingPipeline,r=WT.common.extendObject,a=function(t){try{if(t.params&&t.params.mutation&&t.params.mutation.click&&t.params.testAlias&&t.params.conversionPoint){var a,i,n,o=(a=z32da.getOptData(t.params.testAlias),0===r(a).length()&&(WT.Debug.debug(t.params.testAlias+" wasn't found, trying cookie"),a=z32da.z1467e(t.params.testAlias),WT.Debug.debug("Found values in cookie "+WT.common.JSONPrettify(a))),(i=r(a).length())>0?a["opt.conversion_point"]=t.params.conversionPoint:0===i&&(a["opt.account_id"]=e,a["opt.test_alias"]=t.params.testAlias,a["opt.conversion_point"]=t.params.conversionPoint),n=WT.hasVal(t.params)&&WT.hasVal(t.params.userDefinedParams)?t.params.userDefinedParams:null,WT.hasVal(n)&&(WT.hasVal(n.externalUID)?a["opt.external_uid"]=n.externalUID:WT.hasVal(n.data)&&WT.hasVal(n.data.externalUID)&&(a["opt.external_uid"]=n.data.externalUID)),a);r(o).forEach(function(e,r){t.getParam(r)||t.setParam(r,e)});var s={},c=WT.hasVal(t.params)&&WT.hasVal(t.params.userDefinedParams)?t.params.userDefinedParams:null;WT.hasVal(c)?(s=WT.paramsMerge(JSON.parse(JSON.stringify(o)),c),s=WT.hasVal(c)?WT.paramsMerge(s,c.config):s,WT.hasVal(c.data)&&WT.hasVal(c.data.externalUID)&&(s.externalUID=c.data.externalUID)):s=WT.paramsMerge(JSON.parse(JSON.stringify(o)));var u=WT.paramsMerge(s);z1a23.conversion(u,!0)}}catch(d){WT.Debug.error("OPT Error:  Applying External CV mutation",148,d.message)}};t.registerMutation("optimizeCVMutant",a,1)},this.z0271a=function(e){var t=WT.common.TrackingPipeline,r=function(t){var r;function a(){var t=z32da.zdf8b5("user",e);return t?t.uid:null}return function(e){try{if(!z32da.z35bf1(e))return;!WT.hasVal(e.getParam("WT.co_f"))&&(WT.hasVal(r)||(r=a()),WT.hasVal(r)&&(WT.Debug.trace("Injecting WT.co_f="+r),e.setParam("WT.co_f",r))),!WT.hasVal(e.payload["WT.vt_f"])&&t?(WT.Debug.trace("Injecting WT.vt_f=1"),e.payload["WT.vt_f"]=1,e.payload["WT.vt_f_a"]=1,e.payload["WT.vt_f_d"]=1,e.payload["WT.vt_f_s"]=1,t=!1):WT.hasVal(e.payload["WT.vt_f"])&&(t=!1)}catch(i){WT.Debug.error("OPT ERROR: Issue detecting optimize visitor",148,i.message)}}}(!(WT.hasVal(z32da.zdf8b5("user",e))||WT.hasVal(WT.common.getCookieAsObj("WT_FPC"))));t.registerMutation("optimizeVisitorMutant",r,2)};var zf9ac=function(z5792,z6b4f){this.params=z5792,this.z019b=null,this.z6848=null,this.z0386=z6b4f;var z677c=this;zf9ac.z38a4="init",zf9ac.z7365="prepare",zf9ac.z94bc="preprocess",zf9ac.z7df9="process",zf9ac.z566c="abort",zf9ac.z57b0="invalid",zf9ac.za651="prerender",zf9ac.z971e="render",zf9ac.z7bd2="done",zf9ac.z3064="fail",zf9ac.z3a29="conversionevent",zf9ac.zb7d1="pageview",zf9ac.zb00a="conversion",zf9ac.z10ca="AB",zf9ac.z7ffc="FULLFACTORIAL",zf9ac.zcf44="MULTIVAR",zf9ac.z6f4e="SPLIT",zf9ac.zbf4a="TARGET",zf9ac.zd4c4="BASELINE",this.z1382={},this.z7715={},this.z95e8=function(){this.z019b=zf9ac.z38a4},this.ze63a=function(e){this.z1382=JSON.parse(JSON.stringify(e.z1382)),this.z7715=JSON.parse(JSON.stringify(e.z7715))},this.getParams=function(){return this.params},this.zd12e=function(){return this.z1382},this.z452a=function(e){return this.z7715[e]},this.setup=function(){WT.buildProjectCookies(),"conversion"==this.params.s_requestType&&this.params.beacon||WT._addEventHandler(WTEvent.CONTROL_RESPONSE,this.zac2c,this.zdbe8),this.z696d(),this.zf563()},this.track=function(e){this.z696d(e),this.zf563()},this.zf710=function(e){var t,r={};if(!1===this.params.lightWeightMode||"false"===this.params.lightWeightMode||void 0===(t=this.params.lwtModeWhiteList?this.params.lwtModeWhiteList:this.z16ad("control","metaFieldKeys",e))||0===t.length)return r;for(var a=t.split(","),i="",n=0;n<a.length;n++)r[i=a[n].replace(/^\s\s*/,"").replace(/\s\s*$/,"")]=!0;return r},this.z1da9=function(e){for(var t=this.params.testAlias.split(","),r=0;r<t.length;r++){t[r]=t[r].replace(/^\s\s*/,"").replace(/\s\s*$/,"");var a=RegExp("-"+t[r]+"$");if(e.match(a))return!0}return!1},this.z696d=function(e){this.z1382.keyToken=this.params.s_keyToken,this.z1382.params={},e?this.z1382.params.requestType=e:this.z1382.params.requestType=this.params.s_requestType;var t={},r=!1;!0===this.params.lightWeightMode||"true"===this.params.lightWeightMode?((this.z1382.params.requestType===zf9ac.zb7d1||this.z1382.params.requestType===zf9ac.zb00a)&&(void 0===(t=this.zf710(this.params.testAlias))||null===t||0===t.length?(WT.Debug.debug("Lightweight Mode On but No WhiteList found(assume nothing whitelisted) for alias: "+this.params.testAlias+" for "+this.z1382.params.requestType),t={}):WT.Debug.debug("LightWeight Mode On and WhiteList found for alias: "+this.params.testAlias+" for "+this.z1382.params.requestType),r=!0),this.z1382.params.lightWeightMode=!0):this.z1382.params.lightWeightMode=!1;for(var a=["testAlias","controlCookieTimeout","splitMatchRegex","conversionPoint","federatedDomainID","federatedKey","testGroup","cookieConversionCheck","s_modeUD","enableCORS","preRenderConversionEvents","selectorName"],i=0;i<a.length;++i)WT.hasVal(this.params[a[i]])&&(this.z1382.params[a[i]]=this.params[a[i]]);this.z1382.params.s_mode=this.params.s_mode;for(var n=["s_mode","debug","cookiePrefix","cookieInspection","use3rdPartyCookies","use1stPartyCookies","beacon","s_setupID","crossAPI"],o=0;o<n.length;++o)this.z1382.params[n[o]]=this.params[n[o]];if(this.z1382.body={},this.z1382.body.data={},void 0!==this.params.data&&!0===r&&void 0!==t)for(var s in this.params.data)!0===t[s]&&(this.z1382.body.data[s]=this.params.data[s]);else void 0!==this.params.data&&!1===r&&(this.z1382.body.data=this.params.data);void 0!==this.params.cache&&(this.z1382.body.cache=this.params.cache),""!==document.referrer&&(this.z1382.body.data._wm_referer=document.referrer),this.params.externalUID&&(this.z1382.body.data._wm_externalUID=this.params.externalUID),this.z1382.body.data._wm_TimeOffset=36e5*z32da.z31a9(),""!==document.title&&(!0===r&&t.documentTitle||!1===r)&&(this.z1382.body.data.documentTitle=document.title);var c=WT.parseQueryString();if(c)for(var u in c)(!0===r&&!0===t[u]||!1===r)&&(this.z1382.body.data[u]=c[u]);for(var d={viewport:1,width:1,"twitter:card":1,"twitter:creator":1,"twitter:site":1,"msapplication-TileImage":1,robots:1,googlebot:1,bingbot:1,"msvalidate.01":1,"google-site-verification":1,"theme-color":1,"csrf-token":1,"initial-scale":1},l=document.getElementsByTagName("meta"),p=0;p<l.length;++p)""===l[p].name||d[l[p].name]||(!0!==r||!0!==t[l[p].name])&&!1!==r||(this.z1382.body.data[l[p].name]=l[p].content);this.params.s_overrideKeys&&(this.z1382.params.s_overrideKeys=this.params.s_overrideKeys),this.z1382.body.cookies={};var f=document.cookie.split(";"),h=WT.getProjectCookies();for(var g in h)f.push(g+"="+h[g].value);for(var m=0;m<f.length;++m){var v=[];for(v[0]=f[m].substring(0,f[m].indexOf("=")),v[1]=f[m].substring(f[m].indexOf("=")+1);" "===v[0].charAt(0);)v[0]=v[0].substring(1,v[0].length);if(!v[0].match(/^_wt.project/i)){if(0===v[0].indexOf(this.params.cookiePrefix)&&!0===r&&v[0].match(/control/)&&this.z1da9(v[0])){var $=JSON.parse(z32da.z7f69(v[1],this.params.s_keyToken));$.metaFieldKeys&&(delete $.metaFieldKeys,v[1]=z32da.z71df(JSON.stringify($),this.params.s_keyToken)),this.z1382.body.cookies[v[0]]=v[1]}else 0!==v[0].indexOf(this.params.cookiePrefix)||!1!==r&&(!0!==r||v[0].match(/control/))?!0===this.params.cookieInspection&&(!0===r&&void 0!==t&&!0===t[v[0]]||!1===r)&&(this.z1382.body.cookies[v[0]]=v[1]):this.z1382.body.cookies[v[0]]=v[1]}}WT.fireEvent(new WTEvent(WTEvent.CONFIGURE,WTEvent.STATUS_SUCCESS,this))},this.zf563=function(e){var t="conversion"==this.params.s_requestType&&this.params.beacon;e&&(this.z1382.params.preprocessed=e);var r=JSON.stringify(this.z1382);if(t){var a=new Date().getTime()+"-"+Math.floor(1e3*Math.random()+1);r=r+"?_wt.time="+a}WT.Debug.debug("service: JSON Control Request:\n"),WT.Debug.debug(r),r=z32da.z71df(r,this.z1382.keyToken);var i=this.params.s_otsUrl+"/";t&&(i=this.params.s_otsBeaconUrl+"/");var n=i.length+r.length;if(this.params.s_urlParts&&n>this.params.s_maxUrl||n>this.params.s_urlLimit&&!z677c.params.enableCORS){var o=new Date().getTime()+"-"+Math.floor(1e3*Math.random()+1),s=this.params.s_maxUrl-i.length;(this.params.s_urlParts&&this.params.s_maxUrl>this.params.s_urlLimit||!this.params.s_urlParts)&&(s=this.params.s_urlLimit-i.length);var c=Math.ceil(r.length/s),u=0,d=0,l=function(e){if(null!=e){if(null===e.target)return;var t=z32da.z7f69(e.target.control,z677c.z1382.keyToken);if(WT.Debug.trace("control_part: JSON Control Part\n"+t),JSON.parse(t).controlID!=o)return}var a=r.substr(u,s),n=a+"/"+o+"/"+d+"/"+c;u+=a.length,++d>c-1&&WT._removeEventHandler(WTEvent.CONTROL_PART,arguments.callee),z32da._comm(i,n,"service parts request",!1,this.params.url,z32da._execScript)};if(t)for(;d<c;++d){var p=r.substr(u,s);(z0e1d=new Image).src=i+p+"/"+o+"/"+d+"/"+c,u+=p.length,WT.Debug.trace("control_part: Beacon Part\n"+p)}else WT._addEventHandler(WTEvent.CONTROL_PART,l),l()}else t?((z0e1d=new Image).src=i+r,WT.Debug.debug("service: Beacon Request\n"+r)):z32da._comm(i,r,"service standard request",z677c.params.enableCORS,this.params.url,z32da._execScript)},this.zc52f=function(){this.z019b=zf9ac.z94bc,this.z4cc8(zf9ac.z94bc);var e=this.z7715[zf9ac.z94bc].body.codeFragments;for(var t in e)if(e.hasOwnProperty(t))try{WT.Debug.trace("codeFragment: [name:"+t+", code:"+e[t]+"]"),this.params.data[t]=z32da._execScript(e[t],!0)}catch(r){WT.Debug.error("codeFragment: error running code fragment [name: "+t+"], check error for details.",0,r)}},this.z596e=function(e){this.z019b=e,this.z4cc8(e);var t=this.z7715[e].body.cookies;if(t)for(var r in t){var a=t[r];this.z0f8a(r,a.value,a.timeout,a.type)}},this.zee58=function(){this.z019b=zf9ac.z3a29;var e=this.z7715[zf9ac.z3a29].body.conversionEvents,t=this.z7715[zf9ac.z3a29].params;for(var r in e)if(e.hasOwnProperty(r)){var a=e[r];switch(a.params=t,a.eventType){case 0:this.z07f3(a,z8ff2);break;case 1:WT.Debug.debug("PageLoad conversion received by conversionEvent");break;case 2:this.z0fa8(a);break;case 3:this.z25ba(a);break;case 5:this.z8c56(a,z8ff2);break;default:WT.Debug.error("unknown conversion event type: "+a.eventType)}}};var z8ff2=function(e,t,r,a){var i=!0;void 0!==e.redirect_flag&&(i=e.redirect_flag);var n=function(e){if(e){var t=e.currentTarget?e.currentTarget:e.srcElement;t&&"A"==t.tagName&&t.href&&(t.wt_href||(t.wt_href=t.href,t.wt_target=t.target),t.href="javascript:void(0);",t.target="")}},o=function(e){if(e){var t=e.currentTarget?e.currentTarget:e.srcElement;t&&"A"==t.tagName&&t.href&&!(t.wt_pending&&"true"==t.wt_pending)&&(t.href=t.wt_href,t.target=t.wt_target)}},s=function(t){var r=e.params;r.conversionPoint=e.conversionPointName,e.federatedKey&&(r.federatedKey=e.federatedKey,r.federatedDomainID=e.federatedDomainID);var a=t.currentTarget?t.currentTarget:t.srcElement;t&&i&&a&&"A"==a.tagName&&a.href&&(a.wt_pending="true",r.r_redirectLink=a,setTimeout(function(){z677c.redirectElement(a,"click: conversion timed out")},z677c.params.s_conversionTimeout)),z677c.params.lightWeightMode&&(r.lightWeightMode=z677c.params.lightWeightMode),r.s_isInternalCV=!0,r.testAlias=e.testAlias,WT.Debug.trace("Attempting to convert on '"+r.conversionPoint+"' for '"+r.testAlias+"'"),z1a23.conversion(r)&&i&&z677c.redirectElement(a,"click: conversion fail, redirecting")};try{if(t)!0==i&&"A"==t.tagName&&t.href&&(WT._addDOMEvent(t,z677c.z9dda(t,"mouseover"),n),WT._addDOMEvent(t,z677c.z9dda(t,"mouseout"),o)),WT._addDOMEvent(t,z677c.z9dda(t,a),s),WT.Debug.trace("conversionEvent: setting on click event for [id:"+r+" , name: "+e.conversionPointName+", alias: "+e.testAlias+"]");else throw"Unable to find element for "+r;return 0}catch(c){return WT.Debug.error("unable to attach OnClick conversion event for [id: "+r+", name: "+e.conversionPointName+", alias: "+e.testAlias+"]",0,c),1}};this.z07f3=function(e,t){try{var r=e.domElementID;for(var a in r)if(r.hasOwnProperty(a)){var i=z677c.z0f52(a),n=r[a];t(e,i,a,n)}}catch(o){WT.Debug.error("unable to attach on click conversion event.",0,o)}},this.z0fa8=function(e){try{var t={};(t=WT.paramsMerge(t,e.params)).conversionPoint=e.conversionPointName,e.federatedKey&&(t.federatedKey=e.federatedKey,t.federatedDomainID=e.federatedDomainID),z677c.params.lightWeightMode&&(t.lightWeightMode=z677c.params.lightWeightMode),t.s_isInternalCV=!0,t.testAlias=e.testAlias,setTimeout(function(e){z1a23.conversion(t)},1e3*e.timeOnPage),WT.Debug.trace("conversionEvent: setting time on page event for [timer:"+e.timeOnPage+" seconds , name: "+e.conversionPointName+", alias: "+e.testAlias+"]")}catch(r){WT.Debug.error("unable to attach on time on page conversion event for [timer:"+e.timeOnPage+" seconds , name: "+e.conversionPointName+", alias: "+e.testAlias+"]",0,r)}},this.z25ba=function(e){try{var t=e.domElementID;if(""===t||null==t)z32da._execScript(e.script);else{var r=z32da._execScript("var _tempfnvalue = function (event) {"+e.script+"};");for(var a in null==r&&(r=_tempfnvalue),t)if(t.hasOwnProperty(a))for(var i=this.z0f52(a),n=t[a].split(","),o=0;o<n.length;++o){var s=n[o];try{WT._addDOMEvent(i,s,r),WT.Debug.trace("conversionEvent: setting custom conversion event for [id: "+a+" , event: "+s+", name: "+e.conversionPointName+", alias: "+e.testAlias+"]")}catch(c){WT.Debug.error("unable to attach custom conversion event for [id: "+a+", event: "+s+", name: "+e.conversionPointName+", alias: "+e.testAlias+"]",0,c)}}}}catch(u){WT.Debug.error("unable to attach custom conversion event.",0,u)}},this.z8c56=function(e,t){var r=function(e){var t,r=s.tagName?s.tagName+" ":"";return r+(s.id?s.id+" ":"")+(s.className?s.className:"")};try{for(var a in e.domElementID){var i=e.domElementID[a],n=WT.getSelector()(a);if(!n||0===n.length){WT.Debug.debug("ActionClick selector("+a+") result is empty"),WT.common.z3440c(a,e,t,this.z8c56);break}for(var o in n){var s=n[o],c=r(s);t(e,s,c,i),WT.Debug.debug("conversionEvent:  Attached "+i+" to selector("+a+") for elm: "+c)}}return 0}catch(u){return WT.Debug.error("unable to attach ActionClick conversion event: "+u),-1}},this.redirectElement=function(e,t){t&&WT.Debug.debug(t),null!==e&&e.wt_pending&&"true"===e.wt_pending?(WT.Debug.info("click: redirecting to url ["+e.wt_href+"]"),e.href=e.wt_href,e.target=e.wt_target,e.wt_pending="",void 0!==e.wt_target&&""!==e.wt_target&&null!==e.wt_target?window.open(e.wt_href,e.wt_target):setTimeout(function(){window.location.href=e.wt_href},0)):WT.Debug.debug("click: redirect not pending or !elm, so not redirecting")},this.z9dda=function(e,t){var r=t.substr(0,2);if(e.addEventListener){if("on"==r)return t.substring(2)}else if(e.attachEvent&&"on"!=r)return"on"+t;return t},this.z0f8a=function(e,t,r,a){var i=null;if("session"!=a&&(i=new Date).setTime(i.getTime()+r),!(e.indexOf("_wt.conversion")>-1)){if(e.indexOf("control")>-1){WT.setProjectCookie(e,t,r,i);return}var n="",o=z677c.params.cookieDomain||WT.optimizeModule.prototype.wtConfigObj.cookieDomain;null!=o&&""!==o?n=" domain="+o+";":(z32da.z58a85=function(){var e=document.location.hostname,t=e;return 0===e.indexOf("www.")&&(t=e.replace("www.","")),t},n="domain=."+z32da.z58a85()+";");var s="";null!==z677c.params.cookiePath&&""!==z677c.params.cookiePath&&(s=" path="+z677c.params.cookiePath+";");var c=e+"="+t+";"+n+s+(null!==i?" expires="+i.toGMTString()+";":"");WT.Debug.trace("cookie: setting cookie data: ["+c+"]"),WT.consent&&!1===WT.consent.status?WT.consent.queue.push({type:"document.cookie",value:c}):document.cookie=c}},this.z7cb0=function(){z677c.params.debug&&z677c.params.debug.length>0?(WT.Debug._shutdown=!1,WT.Debug.debugLevel=z677c.params.debug.length,WT.Debug.refresh(!0)):WT.Debug._shutdown=!0},this.z0932=function(){if(!WT.blockCodeRender.includes(this.params.testAlias)){var e=this.z7715[zf9ac.z7df9].body.factors;if("string"==typeof e)try{e=JSON.parse(e)}catch(t){var r="Unable to parse factors '"+e+"'";throw WT.Debug.error(r,0,t),r}for(var a=null,i=0;i<e.length;++i){var n=e[i],o=n.operation;try{if(0===o&&!(a=this.z0f52(n.name))){if(z677c.params.ignoreMissingFactors){WT.Debug.debug("library/process: unable to load element for id ["+n.name+"] in page DOM. Ignoring missing factors.");continue}throw WT.Debug.error("library/process: unable to load element for id ["+n.name+"] in page DOM.",0),"DOM element was null."}}catch(s){if(z677c.params.ignoreMissingFactors){WT.Debug.debug("library/process: unable to locate id ["+n.name+"] in page DOM, if using nested factors make sure the id has been added to the page in the outer content. Ignoring missing factors.");continue}throw WT.Debug.error("library/process: unable to locate id ["+n.name+"] in page DOM, if using nested factors make sure the id has been added to the page in the outer content.",0,s),"Invalid factor alias."}try{if(4==o)throw WT.Debug.error("library/process: redirect content operation type is not supported in CAPI. Element id ["+n.name+"].",0),"Redirect content operation type is not supported."}catch(c){throw z32da.z2d27(),WT._fireEvent(new WTEvent(WTEvent.RENDER,WTEvent.STATUS_FAULT,z677c)),"Redirect content operation type is not supported."}try{if(0===o){a.innerHTML=n.value;for(var u=a.getElementsByTagName("script"),d=0;d<u.length;++d)void 0!==u[d].src&&null!==u[d].src&&""!==u[d].src?(z32da.zbee98(u[d].src,"regular opType"),a.removeChild(u[d])):z32da._execScript(u[d].text)}else(2==o||3==o)&&z32da._execScript(n.value);if(5===o)try{if(n.value&&0!==n.value.length)for(var l=JSON.parse(n.value),p=1,f=0;f<l.length;f++)(p=z32da._selectAndUpdate(l[f].selector,l[f].op,l[f].payload))<=0&&WT.Debug.debug("_selectAndUpdate:  problem processing tuple  for "+n.name);else throw"library/process:  unable to parse action tuples for +"+n.name}catch(h){throw n.name,h}WT.Debug.info("library/process: updating factor ["+n.name+", opCode: "+o+"] with level content.")}catch(g){throw WT.Debug.error("library/process: unable to update factor ["+n.name+"], please review the log for details.",0,g),"Error during update of the factors level content."}}}},this.z0f52=function(id){if(!z677c.params.selectorEnabled)return z32da.z454c.z0c82(id);try{var z4d76,selector=z677c.params.selectorFunction;if(null===selector||""===selector)return z32da.z454c.z0c82(id);return eval(selector)(id)}catch(e){return WT.Debug.error("custom selector failed, defaulting to standard dynamic selector",0,e),z32da.z454c.z0c82(id)}},this.z6d0e=function(){if(z677c.z4cc8(),z677c.params.r_redirectLink&&!z677c.params.r_safeTrack){var e=z677c.params.r_redirectLink;e.wt_pending&&"true"==e.wt_pending&&(WT.Debug.info("error_track: redirecting to last known url ["+e.wt_href+"]"),e.href=e.wt_href,e.target=e.wt_target,e.wt_pending="",void 0!==e.wt_target&&""!==e.wt_target&&null!==e.wt_target?window.open(e.wt_href,e.wt_target):setTimeout(function(){window.location.href=e.wt_href},0))}},this.z8fe4=function(){this.z019b=zf9ac.za651;var e=this.z7715[zf9ac.z7df9],t=!0;if(null!=e){var r=e.body.preScript;if(null!=r){if(!this.params.r_runState||!["TEST","COMPLETE"].includes(this.params.r_runState)){var a=r.split("\n",1)[0],i="// INTERNAL_SCHEDULE: ";if(0==a.indexOf(i)){var n={};try{a=a.replace(i,""),n=JSON.parse(a)}catch(o){}var s=new Date;n.start_time&&new Date(n.start_time)>=s&&(t=!1),n.end_time&&new Date(n.end_time)<=s&&(t=!1),"calendar"==n.view&&n.dates&&!function(e){for(var t=0;t<e.length;t++){var r=e[t],a=new Date(r.start),i=new Date(r.end);if(a<=s&&i>s)return!0}return!1}(n.dates)&&(t=!1)}}try{t&&z32da._execScript(r),WT.Debug.debug("prerender: prescript executed: "+r)}catch(c){WT.Debug.error("prerender: prescript failed to execute",0,c)}}}switch(t||(WT.blockCodeRender.push(this.params.testAlias),WT.blockPV.push(this.params.testAlias)),this.params.r_type){case zf9ac.zbf4a:case zf9ac.z10ca:case zf9ac.z7ffc:case zf9ac.zcf44:this.z0932();break;case zf9ac.z6f4e:case zf9ac.zd4c4:break;default:throw"prerender: Unknown test type, please verify the run type is supported with this version of the CAPI file."}},this.z8300=function(e){var t=this.z019b===zf9ac.z57b0;this.z019b=zf9ac.z971e;var r=this.params.r_cWrapEl;if(this.z0386,(this.params.r_type!=zf9ac.z6f4e||this.params.r_redirectUrl)&&this.params.r_type==zf9ac.z6f4e)WT.Debug.debug("render: test alias ["+this.params.testAlias+"] has redirect url.");else if(null!==r)null===this.params.defaultUrl||e?WT.Debug.debug("ready to render: test alias ["+this.params.testAlias+"]"):null!==this.params.defaultUrl&&WT.Debug.debug("render: test alias ["+this.params.testAlias+"] has default url ["+this.params.defaultUrl+"]");else throw"Unable to locate contentWrapper, skipping render";if(!z1a23.g_Aborted&&!WT.blockCodeRender.includes(this.params.testAlias)){var a=this.z7715[zf9ac.z7df9];if(null!=a&&!t){var i=a.body.postScript;if(null!=i)try{z32da._execScript(i),WT.Debug.debug("render: postScript executed: "+i)}catch(n){WT.Debug.error("render: postScript failed to execute",0,n)}}}},this.z4cc8=function(e){if(null!==this.z7715[e]&&void 0!==this.z7715[e])for(var t in this.z7715[e].params)this.params[t]=this.z7715[e].params[t];this.z7cb0()},this.z16ad=function(e,t,r){for(var a,i=document.cookie.split(";"),n=0;n<i.length;++n){var o=[];for(o[0]=i[n].substring(0,i[n].indexOf("=")),o[1]=i[n].substring(i[n].indexOf("=")+1);" "===o[0].charAt(0);)o[0]=o[0].substring(1,o[0].length);if(0===o[0].indexOf(this.params.cookiePrefix)&&-1!==o[0].search(r)&&-1!==o[0].search(e)){a=o[1];break}}if(void 0!==a)return(a=JSON.parse(a=z32da.z7f69(a,this.params.s_keyToken)))[t]},this.za7ed=function(){var e=this.z7715[zf9ac.zb7d1].body.cookies;if(e){for(var t in e)if(e.hasOwnProperty(t)){var r=this.z7715[zf9ac.zb7d1].body.cookies[t];this.z0f8a(t,r.value,r.timeout,r.type)}}if(this.params.r_redirectUrl){WT.Debug.info("pageview: redirecting to url ["+this.params.r_redirectUrl+"]");var a=this.params.r_redirectUrl;setTimeout(function(){window.location.href=a},0)}},this.conversion=function(){if(this.z7715[zf9ac.zb00a].body.cookies)for(var e in this.z7715[zf9ac.zb00a].body.cookies){var t=this.z7715[zf9ac.zb00a].body.cookies[e];this.z0f8a(e,t.value,t.timeout,t.type)}if(this.params.r_redirectLink){var r=z677c.params.r_redirectLink;r.wt_pending&&"true"==r.wt_pending&&(WT.Debug.info("conversion: redirecting to url ["+r.wt_href+"]"),r.href=r.wt_href,r.target=r.wt_target,r.wt_pending="",void 0!==r.wt_target&&""!==r.wt_target&&null!==r.wt_target?window.open(r.wt_href,r.wt_target):setTimeout(function(){window.location.href=r.wt_href},0))}},this.zac2c=function(e){try{if(e.params.eventID in z67fd)return;var t=!1,r=!0,a=e.target,i=WT.optimize.lookup(a.alias);i?r=!1:null!==z1aff?i=z1aff:(t=!0,i=new zf9ac(z677c.params,WT));var n=i.params.s_keyToken,o=z32da.z7f69(a.control,n),s=JSON.parse(o);if(t&&s.opcode!=zf9ac.zb00a)throw"invalid run for control response alias";if(s.params.s_setupID&&z677c.params.s_setupID&&s.params.s_setupID!=z677c.params.s_setupID)return;if(z67fd.push(e.params.eventID),WT.Debug.trace("control_response: JSON Control Response:\n"),WT.Debug.trace(o),r&&0===zfe37&&s.totaltests&&(zfe37=s.totaltests),s.totaltests&&(i.params.totaltests=s.totaltests),r&&null!==z1aff&&"control"===i.params.s_requestType&&(s.opcode===zf9ac.z7df9||s.opcode===zf9ac.z57b0)&&((i=new zf9ac({},WT)).params=z9ff5(i.params,z1aff.params,z1aff.intOverrideMap),i.ze63a(z1aff),i.params.testAlias=a.alias,z1aff.intOverrideMap&&(i.intOverrideMap=z1aff.intOverrideMap),z1a23.g_RunObjList.push(i)),(!0===i.params.crossAPI||"true"===i.params.crossAPI)&&s.opcode===zf9ac.z3a29&&void 0===WT.optimize.lookup(a.alias)){var c=new zf9ac({},WT);c.params=WT.paramsMerge(c.params,s.params),c.ze63a(z1aff),c.params.testAlias=a.alias,c.params.data=z677c.params.data,z1a23.g_RunObjList.push(c)}i.z7715[s.opcode]=s;var u=s.body.log;u&&WT.Debug.debug("control_response: JSON Control Response Log:\n"+u);var d={};d.opcode=s.opcode,d.errorcode=s.errorcode;var l=a.alias+s.opcode+s.opstatus,p=!1;for(var f in z706a)if(l==z706a[f]){p=!0;break}p||(s.opcode==zf9ac.z7df9&&z706a.push(l),WT._fireEvent(new WTEvent("control_"+s.opcode,s.opstatus,i,d)))}catch(h){WT.Debug.error("control_response: Unable to evaluate control response, see error for details.",0,h),WT._fireEvent(new WTEvent(WTEvent.z9c02,WTEvent.STATUS_FAULT,i))}},this.zdbe8=function(e){try{if(e.params.eventID in z67fd)return;var t=!0,r=e.target,a=WT.optimize.lookup(r.alias);if(a)t=!1;else if(null!==z1aff)a=z1aff;else throw"invalid run for control response alias";var i=a.params.s_keyToken,n=z32da.z7f69(r.control,i),o=JSON.parse(n);if(o.params.s_setupID&&z677c.params.s_setupID&&o.params.s_setupID!=z677c.params.s_setupID)return;z67fd.push(e.params.eventID),WT.Debug.trace("control_fault: JSON Fault Control Response\n"+n),a.z7715[o.opcode]=o,t&&null!==z1aff&&"control"===a.params.s_requestType&&(o.opcode===zf9ac.z566c||o.opcode===zf9ac.z57b0)&&z1a23.g_RunObjList.push(z1aff);var s={};s.message=o.body.message,s.stack=o.body.exception;var c=o.body.log;c&&WT.Debug.debug("control_fault: JSON Control Response Log:\n"+c),WT.Debug.error("control_fault: JSON Control Response Error",0,s),WT.Debug.debug("control_fault: "+s.stack);var u={};u.opcode=o.opcode,u.errorcode=o.errorcode;var d=r.alias+o.opcode+o.opstatus,l=!1;for(var p in z706a)if(d==z706a[p]){l=!0;break}l||(o.opcode==zf9ac.z7df9&&z706a.push(d),WT._fireEvent(new WTEvent("control_"+o.opcode,WTEvent.STATUS_FAULT,a,u)))}catch(f){WT.Debug.error("control_fault: Unable to evaluate control response, see error for details.",0,f),WT._fireEvent(new WTEvent(WTEvent.z9c02,WTEvent.STATUS_FAULT,a))}},this.z95e8()};this._setupParams=function(e,t){function r(e,r,a){void 0===t[e]&&(void 0!==a&&void 0!==a[e]?t[e]=a[e]:t[e]=r)}function a(e){var t={};for(var r in e)void 0!==e[r]&&null!==e[r]&&e.hasOwnProperty(r)&&"s_requestType"!==r&&(t[r]=e[r]);return t}function i(e){var t=[];for(var r in e)t.push(r);return t}var n="undefined";"conversion"===t.s_requestType&&(n=!0===t.s_isInternalCV?"internal":"external");var o=void 0;"external"!==n&&void 0===(o=WT.optimize.lookup(e))&&(o=WT.optimize.lookup(""));var s=void 0;void 0!==o&&(s=o.params);var c=void 0,u=void 0;if(c=void 0!==o&&void 0!==o.z4317?o.z4317:a(t),"external"===n&&(u=a(t)),r("s_wasServerProto","https"),r("s_wasServer","was.optimize.webtrends.com"),r("s_wasPreviewDir","/server/ui/scripts/preview/"),r("s_wasPreviewJS","previewerLoader.js"),r("s_mode","normal"),r("s_otsUrl",t.s_pageProtocol+"://"+t.s_otsServer+t.s_otsWebApp+t.s_otsWebAppServlet+"/js-"+t.s_otsVersion+"/"+t.s_domainKey),r("s_otsBeaconUrl",t.s_pageProtocol+"://"+t.s_otsServer+t.s_otsWebApp+t.s_otsWebAppServlet+"/beacon-"+t.s_otsVersion+"/"+t.s_domainKey),r("s_wasPreviewPath",t.s_wasServerProto+"://"+t.s_wasServer+t.s_wasPreviewDir),r("s_wasPreviewUrl",t.s_wasPreviewPath+t.s_wasPreviewJS),r("s_urlLimit","3450"),r("s_maxUrl","2040"),r("s_urlParts",/MSIE (\d+\.\d+);/.test(navigator.userAgent)),r("selectorName","sizzle"),void 0!==e&&r("testAlias",e),r("cookiePath","/",s),r("cookieInspection",!0,s),r("cookieConversionCheck",!0,s),r("use3rdPartyCookies",!1,s),r("use1stPartyCookies",!0,s),r("testGroup","default",s),r("beacon",!1,s),r("data",{},s),r("cookiePrefix","_wt",s),r("debug",""),r("defaultUrl",null,s),r("ignoreMissingFactors",!1,s),r("lightWeightMode",!1,s),r("crossAPI",!1,s),r("enableCORS",!1,s),r("preRenderConversionEvents",!0,s),null===t.s_keyToken){WT.Debug.error("'s_keyToken' was not provided, loading the page with Webtrends Optimize Technology disabled.",0),WT._fireEvent(new WTEvent(WTEvent.ABORT,WTEvent.STATUS_FAULT,t));return}WT.Debug.debugLevel=t.debug.length;var d=WT.parseQueryString(),l=null;if(null!==d){l=d["_wt.debug"];var p=d["_wt.mode"];null!=p&&(t.s_mode=p,("normal"==p||"staging"==p)&&(t.s_modeUD=p))}if(null==l&&""!==t.debug&&(l=t.debug),null!=l?(t.debug=l,WT.Debug._shutdown=!1,WT.Debug.debugLevel=t.debug.length,WT.Debug.refresh(!0)):WT.Debug._shutdown=!0,"preview"==t.s_mode||"WTbrowserIFrame"==window.name){z1a23.Preview.g_PreviewOptions=t,z32da.zbee98(t.s_wasPreviewUrl,"preview"),WT.Debug.info("initialize: using preview mode, aborting testing process."),WT._fireEvent(new WTEvent(WTEvent.ABORT,WTEvent.STATUS_SUCCESS,t));return}z32da.z9318a(t.s_domainKey),o?"external"===n?(o.extOverrideMap=u,o.params.s_overrideKeys=i(u),o.params=z9ff5(o.params,t,u)):(o.params.s_overrideKeys=i(c),o.params=z9ff5(o.params,t,c)):(o=new zf9ac(t,WT),"external"===n?(o.extOverrideMap=u,o.params.s_overrideKeys=i(u)):(o.intOverrideMap=c,o.params.s_overrideKeys=i(c)),"control"==t.s_requestType?(null!=e?(z1a23.g_RunObjList.push(o),z3065++):z1aff=o,o.params.s_setupID=new Date().getTime()+Math.floor(1e3*Math.random()+1)):"external"===n?o.params=z9ff5(o.params,t,u):o.params=z9ff5(o.params,t,c)),o.setup();var f=/adobeair\//i;if("none"==t.s_mode||f.test(navigator.userAgent)){WT.Debug.info("initialize: using mode none/air, aborting testing process."),WT._fireEvent(new WTEvent(WTEvent.ABORT,WTEvent.STATUS_SUCCESS,o));return}return o},this.paramsMerge=function(e,t,r){var a=e.r_cWrapEl;e.r_cWrapEl=null;var i=WT.paramsMerge(e,t,r);return e.r_cWrapEl=a,i.r_cWrapEl=a,i};var z9ff5=function(e,t,r){var a=e;for(var i in t)void 0!==t[i]&&null!==t[i]&&t.hasOwnProperty(i)&&(void 0!==r&&void 0!==r[i]?a[i]=r[i]:a[i]=t[i]);return a};this.z1028=function(e){var t=e.target,r=e.params;try{r.opcode==WTEvent.ABORT||r.opcode==WTEvent.z9c02?WT._fireEvent(new WTEvent(WTEvent.z9c02,WTEvent.STATUS_FAULT,t)):WT._fireEvent(new WTEvent(r.opcode,WTEvent.STATUS_FAULT,t))}catch(a){throw WT._fireEvent(new WTEvent(WTEvent.z9c02,WTEvent.STATUS_FAULT,t)),a}},this.ze5d9=function(e){try{var t=e.target,r=e.params;WT.Debug.debug(e.name+": JSON Invalid Response Page Processing"),t.z596e(r.opcode),t.z019b=zf9ac.z57b0,WT._fireEvent(new WTEvent(WTEvent.INVALID,WTEvent.STATUS_SUCCESS)),z32da.z1dd6(t,!1),WT._fireEvent(new WTEvent(WTEvent.DONE,WTEvent.STATUS_SUCCESS))}catch(a){throw WT._fireEvent(new WTEvent(WTEvent.z9c02,WTEvent.STATUS_FAULT,t)),a}},this.z3c7c=function(e){var t=e.target,r=e.params;try{t.z4cc8(r.opcode);var a=t.z452a(r.opcode),i={};i.message=a.body.message,i.stack=a.body.exception,i.message&&WT.Debug.error("error_track: Track Response Error",0,i.message),WT.Debug.debug("error_track: "+i.stack),WT._fireEvent(new WTEvent(a.opcode,WTEvent.STATUS_FAULT,t)),t.z6d0e()}catch(n){throw WT._fireEvent(new WTEvent(WTEvent.z9c02,WTEvent.STATUS_FAULT,t)),n}},this.z4708=function(e){var t=e.target,r=e.params;try{t.z4cc8(r.opcode),WT.Debug.info(e.name+": Page View Track ["+t.params.testAlias+"]"),WT._fireEvent(new WTEvent(WTEvent.PAGEVIEW,WTEvent.STATUS_SUCCESS,t)),t.za7ed()}catch(a){throw WT._fireEvent(new WTEvent(WTEvent.PAGEVIEW,WTEvent.STATUS_FAULT,t)),WT._fireEvent(new WTEvent(WTEvent.z9c02,WTEvent.STATUS_FAULT,t)),a}},this.z5b2c=function(e){var t=e.target,r=e.params;try{t.z4cc8(r.opcode),WT.Debug.info(e.name+": Conversion Track ["+t.params.testAlias+"]"),WT._fireEvent(new WTEvent(WTEvent.CONVERSION,WTEvent.STATUS_SUCCESS,t)),t.conversion()}catch(a){throw WT._fireEvent(new WTEvent(WTEvent.CONVERSION,WTEvent.STATUS_FAULT,t)),WT._fireEvent(new WTEvent(WTEvent.z9c02,WTEvent.STATUS_FAULT,t)),a}},this.zede2=function(e){var t=e.target;try{WT.Debug.debug(e.name+": JSON Control Response Page Evaluation"),t.zc52f(),WT._fireEvent(new WTEvent(WTEvent.PREPROCESS,WTEvent.STATUS_SUCCESS,t))}catch(r){throw WT._fireEvent(new WTEvent(WTEvent.PREPROCESS,WTEvent.STATUS_FAULT,t)),WT._fireEvent(new WTEvent(WTEvent.ABORT,WTEvent.STATUS_FAULT,r)),r}t.zf563(!0)};var z8e2d=function(e,t){if("r_cWrapEl"!=e&&"__proto__"!=e)return t},z1a52=function(e,t,r,a){return function(){WT._removeEventHandler(WTEvent.DOM_READY,arguments.callee);var i=e.params.r_cWrapEl;e.params=JSON.parse(t),e.z7715=JSON.parse(r),e.z1382=JSON.parse(a),e.params.r_cWrapEl=i,z32da.z76bb(e)}};this.z348e=function(e){var t=e.target;try{WT.Debug.debug(e.name+": JSON Control Response Page Processing"),t.z596e(zf9ac.z7df9),WT._fireEvent(new WTEvent(WTEvent.PROCESS,WTEvent.STATUS_SUCCESS,t))}catch(r){throw WT._fireEvent(new WTEvent(WTEvent.PROCESS,WTEvent.STATUS_FAULT,t)),WT._fireEvent(new WTEvent(WTEvent.z9c02,WTEvent.STATUS_FAULT,r)),r}if("dom"!=t.params.s_pageMode||z32da.isReady()){if("onload"!=t.params.s_pageMode||z32da.isLoaded())z32da.z76bb(t);else{WT.Debug.debug(e.name+": delayed execution waiting for dom_onload");var a=JSON.stringify(t.params,z8e2d),i=JSON.stringify(t.z7715,z8e2d),n=JSON.stringify(t.z1382,z8e2d);WT._addEventHandler(WTEvent.DOM_ONLOAD,z1a52(t,a,i,n))}}else{WT.Debug.debug(e.name+": delayed execution waiting for dom_ready");var o=JSON.stringify(t.params,z8e2d),s=JSON.stringify(t.z7715,z8e2d),c=JSON.stringify(t.z1382,z8e2d);WT._addEventHandler(WTEvent.DOM_READY,z1a52(t,o,s,c))}},this._initialize=function(e){try{var t=z1a23._capiParams(e);if(z1a23.g_ParamsList.push(t),WT.hasVal(t.r_redirectLink)&&WT.hasVal(t.testAlias)){var r=WT.optimize.lookup(t.testAlias);WT.hasVal(r)&&(r.params.r_redirectLink=t.r_redirectLink)}WT.Debug.debug("initialize: Preparing to Optimize"),WT.fireEvent(new WTEvent(WTEvent.INITIALIZE,WTEvent.STATUS_SUCCESS,t)),z32da._setupParams(t.testAlias,t)}catch(a){WT.Debug.error("initialize: error during framework setup.",147,a),WT.fireEvent(new WTEvent(WTEvent.INITIALIZE,WTEvent.STATUS_FAULT,t)),WT.fireEvent(new WTEvent(WTEvent.ABORT,WTEvent.STATUS_FAULT,t))}},this.zd78e=function(e){var t=e.target;try{WT.Debug.debug(e.name+": JSON Control Response Conversion Event Processing"),WT._fireEvent(new WTEvent(WTEvent.PRECONVERSIONEVENT,WTEvent.STATUS_SUCCESS,t))}catch(r){WT._fireEvent(new WTEvent(WTEvent.PRECONVERSIONEVENT,WTEvent.STATUS_FAULT,t))}var a=function(e,t){var r=JSON.stringify(t.z7715[zf9ac.z3a29]);return function(){t.z7715[zf9ac.z3a29]=JSON.parse(r),WT._removeEventHandler(e,arguments.callee),z32da.ze2b3(t)}};"dom"!=t.params.s_pageMode||z32da.isReady()?"onload"!=t.params.s_pageMode||z32da.isLoaded()?z32da.ze2b3(t):(WT.Debug.debug(e.name+": delayed execution waiting for dom_onload"),WT._addEventHandler(WTEvent.DOM_ONLOAD,a(WTEvent.DOM_ONLOAD,t))):(WT.Debug.debug(e.name+": delayed execution waiting for dom_ready"),WT._addEventHandler(WTEvent.DOM_READY,a(WTEvent.DOM_READY,t)))},this.ze2b3=function(e){try{e.zee58(),WT._fireEvent(new WTEvent(WTEvent.CONVERSIONEVENT,WTEvent.STATUS_SUCCESS,e))}catch(t){WT.Debug.error("Error:  conversionEvent() failed because of '"+t+"'"),WT._fireEvent(new WTEvent(WTEvent.CONVERSIONEVENT,WTEvent.STATUS_FAULT,e))}},this.z76bb=function(e){try{z1a23.g_Aborted||e.z8fe4(),WT._fireEvent(new WTEvent(WTEvent.PRERENDER,WTEvent.STATUS_SUCCESS,e))}catch(t){WT._fireEvent(new WTEvent(WTEvent.PRERENDER,WTEvent.STATUS_FAULT,e)),WT._fireEvent(new WTEvent(WTEvent.z9c02,WTEvent.STATUS_FAULT,e));return}z32da.z1dd6(e,!0)},this.z1dd6=function(e,t,r){if(WT.blockPV.includes(e.params.testAlias)&&(t=!1),WT.consent&&!1===WT.consent.status&&(t=!1,WT.consent.queue.push({type:"pageview",zae74:e,z1dd6:this.z1dd6,zb803:!0})),!r){try{e.z8300(t),WT._fireEvent(new WTEvent(WTEvent.RENDER,WTEvent.STATUS_SUCCESS,e))}catch(a){WT._fireEvent(new WTEvent(WTEvent.RENDER,WTEvent.STATUS_FAULT,e)),WT._fireEvent(new WTEvent(WTEvent.z9c02,WTEvent.STATUS_FAULT,e));return}z32da.z2d27()}if(t)try{e.track("pageview")}catch(i){WT.Debug.error("render/track: unable to track pageview for run",0,i)}else e.params.defaultUrl&&null!==e.params.defaultUrl&&WT._fireEvent(new WTEvent(WTEvent.z9c02,WTEvent.STATUS_SUCCESS,e))},this.z2d27=function(){try{var e=!0,t=0;if(null!==z1aff&&z1a23.g_RunObjList.length<z3065+zfe37)e=!1;else for(var r=0;r<z1a23.g_RunObjList.length;++r){var a=z1a23.g_RunObjList[r];if(a.z019b!=zf9ac.z3a29&&a.z019b!=zf9ac.z971e&&a.z6848!=zf9ac.z3064){e=!1;break}a.z6848==zf9ac.z3064&&t++}if(e){if(z1a23.g_PageEndTime=new Date,z1a23.g_PageTimer?(clearTimeout(z1a23.g_PageTimer),WT.Debug.info("done: clearing active timer, all runs are complete ["+z1a23.g_PageEndTime+"]")):WT.Debug.info("done: no active timer found, all runs are complete ["+z1a23.g_PageEndTime+"]"),t===z1a23.g_RunObjList.length&&0===t)WT.hideAndShow(document.body,z1a23.g_ConfigParams.s_pageDisplayMode,!0,z1a23.g_ConfigParams.overlayColor),WT._fireEvent(new WTEvent(WTEvent.DONE,WTEvent.STATUS_SUCCESS));else if(t===z1a23.g_RunObjList.length)WT._fireEvent(new WTEvent(WTEvent.ABORT,WTEvent.STATUS_FAULT));else{for(var i=0,n=0;n<z1a23.g_RunObjList.length;++n){var o=z1a23.g_RunObjList[n],s=o.params.r_cWrapEl||document.body;if(o.params.totaltests&&(i=i>o.params.totaltests?i:o.params.totaltests),o&&s)try{o.params.r_redirectUrl?WT.Debug.debug("render: test alias ["+o.params.testAlias+"] splitPage will render redirectUrl"):(WT.hideAndShow(s,o.params.s_pageDisplayMode,!0,o.params.overlayColor),WT.Debug.debug("render: test alias ["+o.params.testAlias+"]"))}catch(c){WT.Debug.debug("render: error occurred on a render of test alias ["+o.params.testAlias+"]")}}i==z1a23.g_RunObjList.length&&!0!==z1a23.g_done&&(t>0?WT._fireEvent(new WTEvent(WTEvent.ABORT,WTEvent.STATUS_SUCCESS)):WT._fireEvent(new WTEvent(WTEvent.DONE,WTEvent.STATUS_SUCCESS)))}}}catch(u){WT._fireEvent(new WTEvent(WTEvent.ABORT,WTEvent.STATUS_FAULT,u)),WT._fireEvent(new WTEvent(WTEvent.DONE,WTEvent.STATUS_FAULT,u))}},this.zc58a=function(){WT.Debug.debug("Optimize execute event finished")};var zd255={};zd255.zeddd="edit_content",zd255.z1956="edit_css",zd255.zff32="edit_attr",zd255.MOVE="move",zd255.RESIZE="resize",zd255.z4cf5="insert",zd255.z0d3f="rearrange",zd255.z1f7b="remove",this.z6c8b=function(e,t){if(!e.parentNode.insertBefore(t,e))throw"failed to insert"},this.ze02d=function(e,t){var r=e.nextSibling,a=null;if(!(a=r?e.parentNode.insertBefore(t,r):e.parentNode.appendChild(t)))throw"failed to append"},this.zd713=function(e,t){z32da.z6c8b(e.firstChild,t)},this.z850d=function(e,t){e.appendChild(t)},this.z8849=function(e,t){if(!e||!t)throw"invalid elementType or properties";var r=null;for(var a in"javascript"===e?(r=document.createElement("script"),t.type||(r.type="text/javascript")):r=document.createElement(e),t)if(t.hasOwnProperty(a)){if("style"===e&&"styleText"===a){if(r.type="text/css",void 0!==r.styleSheet&&void 0!==r.styleSheet.cssText)r.styleSheet.cssText=t[a];else{var i=document.createTextNode(t[a]);r.appendChild(i)}}else"javascript"===e&&"content"===a?r.text=t[a]:"content"===a?r.innerHTML=t[a]:r[a]=t[a]}return r},this.z53ce={before:z32da.z6c8b,after:z32da.ze02d,prepend:z32da.zd713,append:z32da.z850d};var zbb49=function(e,t,r,a){var i=JSON.stringify(t);!1===a?WT.Debug.error("_selectAndUpdate: failed to update '"+e+"' with '"+i+"' on '"+r+"'"):WT.Debug.trace("_selectAndUpdate: updated '"+e+"' with '"+i+"' on '"+r+"'")};this._selectAndUpdate=function(e,t,r){var a=function(e){var t=i(e);if(!t)throw"No res for"+e;if(1!==t.length)throw"res length !== 1 for selector: "+e;return t[0]};if(!e||!t)throw"invalid params selectorStr: "+e+"' with op: '"+t+"' and payload: '"+JSON.stringify(r)+"'";if(null==r&&t!==zd255.z1f7b)throw"payload is 'undefined' or 'null'";WT.Debug.debug("_selectAndUpdate: '"+e+"' with op: '"+t+"' and payload: '"+JSON.stringify(r)+"'");var i=WT.getSelector(),n=i(e);if(!n||0===n.length)return WT.Debug.debug("_selectAndUpdate: selectorStr result is empty"),0;for(var o=0;o<n.length;++o)try{switch(t){case zd255.zeddd:n[o].innerHTML=r;break;case zd255.z1956:case zd255.MOVE:case zd255.RESIZE:zee875(r,n[o]);break;case zd255.zff32:for(var s in r)if(r.hasOwnProperty(s))try{n[o][s]=r[s],n[o].setAttribute(s,r[s]),zbb49(s,r[s],n[o],!0)}catch(c){zbb49(s,r[s],n[o],!1)}break;case zd255.z4cf5:if(!r.action)throw"No action in payload="+JSON.stringify(r);if(!r.properties)throw"No 'properties' in payload="+JSON.stringify(r);if(!r.elementType)throw"No 'elementType' in payload="+JSON.stringify(r);var u=r.action,d=a(e),l=z32da.z8849(r.elementType,r.properties);z32da.z53ce[u](d,l);break;case zd255.z0d3f:if(null==r)throw"invalid payload";if(!r.action)throw"No action in payload="+JSON.stringify(r);if(!r.refElSelector)throw"No refElSelector in payload="+JSON.stringify(r);var p=r.action,f=a(e),h=a(r.refElSelector);z32da.z53ce[p](f,h);break;case zd255.z1f7b:n[o].parentNode.removeChild(n[o]);break;default:throw"Invalid Op"}}catch(g){return WT.Debug.error("Error handling selectorStr: "+e+" with op: "+t+" and payload: "+r,0,g),-1}return n.length},this._getCollectTime=function(){var e=new Date().toISOString().replace("T"," ").substring(0,19),t=-(new Date).getTimezoneOffset()/60;return{dateString:e,offset:t*=36e5}},this._getCollectControlCookies=function(e,t){for(var r={},a=WT.getProjectCookies(),i=0;i<t.length;i++){var n="_wt.control-"+e+"-"+t[i],o=a[n];o&&(r[n]=o)}var s="_wt.user-"+e,c=WT._cookieHelper.get(s);return c&&(r[s]={value:c}),r},this._getCollectResp=function(e,t,r,a,i,n){var o=r.body.cookies[i],s=r.body.cookies[n],c=a.testId.toString(),u=Math.floor(c.length/2),d=c.slice(0,u),l=c.slice(u),p=a.experimentId[0],f=r.params.testAlias;if("pageview"===e){var h=JSON.parse(WT.optimize.Library.z7f69(o,WT.optimize.g_ConfigParams.s_keyToken));h.pageTrack=!0;var g=WT.optimize.Library.z71df(JSON.stringify(h),WT.optimize.g_ConfigParams.s_keyToken),m=`_wt.conversion-${t}-${f}`,v={body:{cookies:{[i]:{timeout:7776e6,type:"persisted",value:g},[m]:{timeout:-1,type:"persisted",value:""},[n]:{timeout:3e5,type:"session",value:s}},log:""},opcode:"pageview",opstatus:"success",params:{_wt_sessionID:a.sessionId,guid:`${t}-${f}-${d}-${l}`,r_experimentID:parseInt(a.experimentId[0]),r_runID:parseInt(l),r_runState:"",r_testID:parseInt(d),r_type:"",s_setupID:0,systemUID:"",testAlias:f,trackingGuid:`0-${t}-${d}-${l}-${p}`},totaltests:0}}else if("conversion"===e){var v={},$=r.params.s_setupID,b=r.params.conversionPoint,z=r.body.cookies[m],y=Boolean(z),T="";(y&&(T=WT.optimize.Library.z7f69(z,WT.optimize.g_ConfigParams.s_keyToken)),T.indexOf(b)>-1)?v={body:{cookies:{[n]:{timeout:3e5,type:"session",value:s}},message:"Conversion cookie already exists, cannot convert again"},errorcode:312,guid:"",opcode:"conversion",opstatus:"fault",params:{s_setupID:parseInt($)},totaltests:0}:(""!=T&&(T+=","),T+=b,v={body:{cookies:{[m]:{timeout:18e5,type:"persisted",value:WT.optimize.Library.z71df(T,WT.optimize.g_ConfigParams.s_keyToken)},[n]:{timeout:3e5,type:"session",value:s}}},opcode:"conversion",opstatus:"success",params:{_wt_sessionID:a.sessionId,conversionPoint:b,guid:"",r_experimentID:0,r_runID:0,r_runState:"",r_testID:0,r_type:"",s_setupID:parseInt($),systemUID:"",testAlias:f,trackingGuid:"0"},totaltests:0})}var S=WT.optimize.Library.z71df(JSON.stringify(v),WT.optimize.g_ConfigParams.s_keyToken);return'WT.fireEvent(new WT.Event(WT.Event.CONTROL_RESPONSE,WT.Event.STATUS_SUCCESS,{alias: "'+f+'",control: "'+S+'"}));'},this._sendToCollect=function(e,t){var r=WT.optimize.g_ConfigParams.s_keyToken,a=WT.optimize.g_ConfigParams.s_domainKey,i={};try{i=JSON.parse(t)}catch(n){return WT.Debug.error("Error parsing payload: "+t),{error:!0}}var o=i.params,s=this._getCollectTime();if("control"===o.requestType)return{done:!1};var c={},u="";try{u=`_wt.mode-${a}`;var d=`_wt.user-${a}`,l=i.body.cookies[d],p=WT.optimize.Library.z7f69(l,r);c=JSON.parse(p)}catch(f){return WT.Debug.error("Error parsing user cookie: "+d),{error:!0}}var h="",g="";try{h=c.userSession.split("-")[1],g=c.uid}catch(m){return WT.Debug.error("Error parsing session: "+c),{error:!0}}var v="",$="";try{$=`_wt.control-${a}-${o.testAlias}`;var b=i.body.cookies[$],z=WT.optimize.Library.z7f69(b,r);v=JSON.parse(z)}catch(y){return WT.Debug.error("Error parsing control cookie: "+$),{error:!0}}if("OUT"===v.throttleResult)return{done:!0};if("conversion"===o.requestType&&!v.hasOwnProperty("pageTrack"))return WT.Debug.error("no pageTrack in control cookie: "+v),{error:!0};var T=[],S=[];try{T=[parseInt(`${v.testid}${v.runid}`)];var w=v.trackid;if(v.hasOwnProperty("targetData"))for(let _ in w=0,v.targetData){var E=v.targetData[_];w=parseInt(E)}else w=w&&"NOTRACKID"==w?0:parseInt(w);S=[w]}catch(D){return WT.Debug.error("Error parsing ids: "+v),{error:!0}}var k={};try{var A=["_wt.debug","_wt.mode","WT.pn_sku","_wm_TimeOffset","_wm_referer","WT.cg_n","documentTitle","robots","viewport","keywords","description","copyright","twitter:title","witter:description","twitter:title","twitter:description","twitter:image","twitter:url"],C=["Infinity","NaN"];for(var O in i.body.data)if(0>A.indexOf(O)){var P=i.body.data[O];P=P.toString(),0>C.indexOf(P)&&(k[O]=P)}}catch(U){WT.Debug.error("Error parsing custom data: "+i.body.data)}var I={},x="";return"pageview"===o.requestType&&(T.length>0&&S.length>0&&(I={domainId:parseInt(a),testId:T,visitorId:g,experimentId:S,sessionId:h,eventName:"pageview","user agent":navigator.userAgent,dateTime:s.dateString,timeZone:s.offset,customData:{url:window.location.pathname}}),x=this._getCollectResp("pageview",a,i,I,$,u)),"conversion"===o.requestType&&(T.length>0&&S.length>0&&(I={domainId:parseInt(a),testId:T,visitorId:g,experimentId:S,sessionId:h,eventName:o.conversionPoint,"user agent":navigator.userAgent,dateTime:s.dateString,timeZone:s.offset,customData:{...k,url:window.location.pathname}}),x=this._getCollectResp("conversion",a,i,I,$,u)),WT.Debug.debug("sending: "+JSON.stringify(I)+" for "+o.testAlias),{payload:I,response:x}},this._pageloadsCollect=function(e){function t(e){try{if(e.body&&e.body.conversionEvents){let t=e.body.conversionEvents,r=Object.keys(t)[0];if(r&&void 0!==t[r].eventType)return t[r].eventType}return null}catch(a){return null}}var r=[];try{var a=/alias:\s*"([^"]+)",\s*control:\s*"([^"]+)"/g,i=e.match(a);if(i){for(var n=0;n<i.length;n++){var o=i[n].split(",")[1].split(":")[1].trim().replaceAll('"',""),s=WT.optimize.Library.z7f69(o,WT.optimize.g_ConfigParams.s_keyToken),c=JSON.parse(s),u=t(c);3!=u&&"conversionevent"==c.opcode&&"success"==c.opstatus&&r.push(c)}for(var d=(r=r.map(function(e){return e.body.conversionEvents})).reduce(function(e,t){var r=t[Object.keys(t)[0]],a=r.conversionPointName,i=r.testAlias;return e[a]||(e[a]=[]),-1===e[a].indexOf(i)&&e[a].push(i),e},{}),l=Object.keys(d),n=0;n<l.length;n++){var p=l[n],f=d[p],h=WT.optimize.Library._getCollectControlCookies(WT.optimize.g_ConfigParams.s_domainKey,f);WT.optimize.trackConv(p,{},h)}}}catch(g){WT.Debug.error("Error parsing pageloads: "+g)}},this._comm=function(e,t,r,a,i,n,o){var s=WT.optimize.Library.z7f69(t,WT.optimize.g_ConfigParams.s_keyToken),c=this._pageloadsCollect,u=function(e){WT.Debug.trace("_comm: handling response='"+v.responseText+"'"),n?n(e):z32da._execScript(e)},d=function(e,t,r,a){return o||(r&&a?function(){WT.Debug.debug("Failed xhr/xdr ... retry w/ basic protocol"),z32da.zbee98(r+a,"_comm")}:function(){WT.Debug.error(e,135);var t={};t.name="commError",t.productName="optimize",WT.fireEvent(new WT.Event(WTEvent.ABORT,WTEvent.STATUS_FAULT,t))})},l=function(){try{if(200===v.status)switch(v.readyState){case 0:case 1:case 2:case 3:WT.Debug.superfine("_comm:  in progress, state: "+v.readyState);break;case 4:WT.Debug.debug("_comm:  response received"),u(v.responseText,"_comm xhrRespHandler response"),c(v.responseText);break;default:WT.Debug.debug("_comm: unusual readyState="+v.readyState)}else if(4===v.readyState&&200!==v.status)throw"_comm xhrResponseHandler:  communication error, http(cor) status: "+v.status+", ots resp: '"+v.responseText+"'"}catch(e){d(e)()}},p=function(){WT.Debug.trace("xdrRespHandler response='"+v.responseText+"'"),u(v.responseText,"xdrRespHandler response")},f=function(e){(v=new XMLHttpRequest).open("GET",e,!0),v.onreadystatechange=l,v.send(JSON.stringify($))},h=this._sendToCollect(e,s),g=h.payload,m=h.response;m&&(l=function(){try{if(200===v.status)switch(v.readyState){case 0:case 1:case 2:case 3:WT.Debug.superfine("_comm:  in progress, state: "+v.readyState);break;case 4:WT.Debug.debug("_comm:  response received"),u(m,"_comm xhrRespHandler response");break;default:WT.Debug.debug("_comm: unusual readyState="+v.readyState)}else if(4===v.readyState&&200!==v.status)throw"_comm xhrResponseHandler:  communication error, http(cor) status: "+v.status+", ots resp: '"+m+"'"}catch(e){d(e)()}});try{var v,$={};"withCredentials"in new XMLHttpRequest&&a?(WT.Debug.debug("CORS supported, attempting XHR"),$.payload=t||"",$.url=i||window.location.href.split("#")[0],g&&(e=WT.CSURL,$=g),(v=new XMLHttpRequest).open("POST",e,!0),g||(v.withCredentials="true"),v.onreadystatechange=l,v.send(JSON.stringify($))):"undefined"!=typeof XDomainRequest&&a?(WT.Debug.debug("CORS supported, attempting XDR"),$.referer=window.location.href?window.location.href:"",$.payload=t||"",(v=new XDomainRequest).open("POST",e),v.onload=p,v.ontimeout=d("_comm timeout",!0,e,t),v.onerror=d("_comm error",!0,e,t),v.send(JSON.stringify($))):(WT.Debug.debug("No CORS Support or Disabled, using basic protocol"),f(e+t)),WT.Debug.debug("_comm request:  "+r),WT.Debug.trace("_comm url:  "+e),WT.Debug.superfine("_comm payload:  "+t)}catch(b){d(b,!0,e,t)()}};var zee875=function(e,t){var r=WT.common.trim;WT.common.extendObject(e).forEach(function(e,a){try{var i=e.split("!important"),n=i.length>1,o=r(i[0]);n&&t.style.setProperty?t.style.setProperty(a,o,"important"):t.style[a]=n?o:e,zbb49(a,e,t,!0)}catch(s){zbb49(a,e,t,!1)}})};this.zbee98=function(e,t,r){var a={};a.type="text/javascript",a.async="true",a.defer="true",a.onerror=function(){WT.Debug.error("failing on ... "+t),WT._fireEvent(new WTEvent(WTEvent.z9c02,WTEvent.STATUS_FAULT,r))},a.src=e,setTimeout(function(){z32da._createElement("script",a,null,document.getElementsByTagName("head")[0])},0)},this._createElement=function(e,t,r,a,i){i||(a&&(i=a.ownerDocument),i||(i=document));var n=i.createElement(e);if(t)for(var o in t)"onerror"==o?n.onerror=t[o]:n.setAttribute(o,t[o]);if(r)for(var s in r)r[s]&&r.hasOwnProperty(s)&&WT._addDOMEvent(n,s,r[s]);return a&&a.appendChild(n),n},this._execScript=function(z8ad6,local){try{if(!z8ad6||0===z8ad6.length||""===z8ad6)return null;if(local)return eval(z8ad6);if(window.execScript)return window.execScript(z8ad6);return window.eval(z8ad6)}catch(e){throw WT.Debug.error("error during execScript:\n"+z8ad6,0,e),e}},this.z31a9=function(){return-new Date().getTimezoneOffset()/60},this.zcc1d=function(e,t){if(null!==e&&!(e.length<8)){for(var r="",a=0;a<t.length;++a)r+=t.charCodeAt(a).toString();var i=Math.floor((r.length-1)/5),n=r.charAt(i)+r.charAt(2*i)+r.charAt(3*i)+r.charAt(4*i)+r.charAt(5*i),o=parseInt(n,10),s=Math.round(t.length/2),c=2147483647,u=parseInt(e.substring(e.length-8,e.length),16);e=e.substring(0,e.length-8),r+=u,r=(o*r+s)%c;for(var d=[],l=0;l<e.length;l+=2){var p=parseInt(parseInt(e.substring(l,l+2),16)^Math.floor(r/c*255),10);d.push(String.fromCharCode(p)),r=(o*r+s)%c}return d.join("")}},this.zcdd3=function(e,t){if(null===e)return null;for(var r="",a=0;a<t.length;++a)r+=t.charCodeAt(a).toString();for(var i=Math.floor((r.length-1)/5),n=r.charAt(i)+r.charAt(2*i)+r.charAt(3*i)+r.charAt(4*i)+r.charAt(5*i);n.length>0&&"0"===n.charAt(0);)n=n.substring(1,n);var o=parseInt(n,10),s=Math.ceil(t.length/2),c=2147483647;if(o<2)return null;var u=Math.round(1e9*Math.random())%1e8;r+=u,r=(o*r+s)%c;for(var d=[],l=0;l<e.length;++l){var p=parseInt(e.charCodeAt(l)^Math.floor(r/c*255),10);p<16&&d.push("0"),d.push(p.toString(16)),r=(o*r+s)%c}for(u=u.toString(16);u.length<8;)u="0"+u;return d.push(u),d.join("")},this.z71df=function(e,t){if(0===e.length)return"";var r=this.zab5b(this.zeab2(e));r.length<=1&&(r[1]=0);for(var a,i,n=this.zab5b(this.zeab2(t).slice(0,16)),o=r.length,s=r[o-1],c=r[0],u=2654435769,d=Math.floor(6+52/o),l=0;d-- >0;){l+=u,i=l>>>2&3;for(var p=0;p<o;++p)a=(s>>>5^(c=r[(p+1)%o])<<2)+(c>>>3^s<<4)^(l^c)+(n[3&p^i]^s),s=r[p]+=a}var f=this.z42f0(r);return"WT3"+this.z76c3(f)},this.z7f69=function(e,t){if(0===(e=e.substring(3)).length)return"";for(var r,a,i=this.zab5b(this.zbc09(e)),n=this.zab5b(this.zeab2(t).slice(0,16)),o=i.length,s=i[o-1],c=i[0],u=2654435769,d=Math.floor(6+52/o)*u;0!==d;){a=d>>>2&3;for(var l=o-1;l>=0;l--)r=((s=i[l>0?l-1:o-1])>>>5^c<<2)+(c>>>3^s<<4)^(d^c)+(n[3&l^a]^s),c=i[l]-=r;d-=u}var p=this.z42f0(i);return p=p.replace(/\0+$/,""),this.zbbb3(p)},this.zab5b=function(e){for(var t=Array(Math.ceil(e.length/4)),r=0;r<t.length;++r)t[r]=e.charCodeAt(4*r)+(e.charCodeAt(4*r+1)<<8)+(e.charCodeAt(4*r+2)<<16)+(e.charCodeAt(4*r+3)<<24);return t},this.z42f0=function(e){for(var t=Array(e.length),r=0;r<e.length;++r)t[r]=String.fromCharCode(255&e[r],e[r]>>>8&255,e[r]>>>16&255,e[r]>>>24&255);return t.join("")},this.z83d6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_~",this.z951d="~",this.z76c3=function(e,t){t=void 0!==t&&t;var r,a,i,n,o,s,c,u,d,l,p,f=[],h="",g=this.z83d6;if((d=(l=t?this.zeab2(e):e).length%3)>0)for(;d++<3;)h+=this.z951d,l+="\0";for(d=0;d<l.length;d+=3)r=l.charCodeAt(d),o=(n=r<<16|(a=l.charCodeAt(d+1))<<8|(i=l.charCodeAt(d+2)))>>18&63,s=n>>12&63,c=n>>6&63,u=63&n,f[d/3]=g.charAt(o)+g.charAt(s)+g.charAt(c)+g.charAt(u);return(p=f.join("")).slice(0,p.length-h.length)+h},this.zbc09=function(e,t){t=void 0!==t&&t;var r,a,i,n,o,s,c,u,d,l,p=[],f=this.z83d6;l=t?this.zbbb3(e):e;for(var h=0;h<l.length;h+=4)n=f.indexOf(l.charAt(h)),o=f.indexOf(l.charAt(h+1)),r=(u=n<<18|o<<12|(s=f.indexOf(l.charAt(h+2)))<<6|(c=f.indexOf(l.charAt(h+3))))>>>16&255,a=u>>>8&255,i=255&u,p[h/4]=String.fromCharCode(r,a,i),64==c&&(p[h/4]=String.fromCharCode(r,a)),64==s&&(p[h/4]=String.fromCharCode(r));return d=p.join(""),t?this.zbbb3(d):d},this.zeab2=function(e){var t=e.replace(/[\u0080-\u07ff]/g,function(e){var t=e.charCodeAt(0);return String.fromCharCode(192|t>>6,128|63&t)});return t.replace(/[\u0800-\uffff]/g,function(e){var t=e.charCodeAt(0);return String.fromCharCode(224|t>>12,128|t>>6&63,128|63&t)})},this.zbbb3=function(e){var t=e.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(e){return String.fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2))});return t.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(e){return String.fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))})},this.isReady=function(){return z0eb2},this.isLoaded=function(){return z1a23.zefb8},this.z95e8()},WT.optimize.Preview={},void 0===WT.optimize.Library&&(WT.optimize.Library=new WT.optimize.zd67f(WT.optimize)),WT.optimize.Library.z454c=function(){var e=function(e,t){for(var r=0,a=t.length;r<a;++r)if(t[r]===e)return r;return -1},t=function(e){for(var t=[],r=e.firstChild;r;)1===r.nodeType&&r!==e&&t.push(r),r=r.nextSibling;return t},r=function(r){return e(r,t(r.parentNode))},a=function(e){return document.getElementById(e)},i=function(e){return document.getElementsByTagName(e)[0]},n=function(e){return e.id?"#"+e.id:e.tagName.toLowerCase()+"["+r(e)+"]"};return{z3e34:function(e){for(var t=[],r=e;r&&(t.push(n(r)),!r.id);)r=r.parentNode;return t.reverse(),t.join("/")},z0c82:function(e){var r=null;if(e.match(/[#\[\]$]/))for(var n=e.split("/"),o=0;o<n.length;++o){var s=n[o].match(/(?:#)(.+?)(?=\[|$)/),c=n[o].match(/(?:\[)(.+)(?=\])/),u=n[o].match(/^.+?(?=#|\[)/);if(s&&!(r=a(s[1]))||r&&c&&(!(r=t(r)[c[1]])||r.nodeName.toLowerCase()!=u[0]))return null;if(!r){if(!u)return null;r=i(u[0])}}else r=a(e);return r}}}(),WT.optimize.Library.z58a85=function(){var e,t=RegExp(".+(co.at|or.at|priv.at|ac.at|gv.at|avocat.fr|aeroport.fr|veterinaire.fr|ac.nz|co.nz|school.nz|cri.nz|govt.nz|mil.nz|parliament.nz|org.il|k12.il|gov.il|muni.il|idf.il|volgograd.ru|irkutsk.ru|msk.ru|ac.ru |com.ru |int.ru|ac.za|gov.za|law.za|mil.za|nom.za|school.za|net.za|nom.es|org.es|gob.es|com.es|nic.tr|com.tr|edu.tr|gov.ua|com.ua|in.ua|org.ua|net.ua|edu.ua|cherkassy.ua,|cherkasy.ua|chernigov.ua|chernihiv.ua|chernivtsi.ua|chernovtsy.ua|k.ua|n.ua|r.ua|rimea.ua|v.ua|dn.ua|dnepropetrovsk.ua|dnipropetrovsk.ua|dominic.ua|donetsk.ua|dp.ua|if.ua|ivano-frankivsk.ua|kh.ua|kharkiv.ua|kharkov.ua|kherson.ua|khmelnitskiy.ua|khmelnytskyi.ua|kiev.ua|kirovograd.ua|km.ua|kr.ua|krym.ua|ks.ua|kv.ua|kyiv.ua|lg.ua|lt.ua|lugansk.ua|lutsk.ua|lv.ua|lviv.ua|mk.ua|mykolaiv.ua|nikolaev.ua|od.ua|odesa.ua|odessa.ua|pl.ua|poltava.ua|rivne.ua|rovno.ua|rv.ua|sb.ua|sebastopol.ua|sevastopol.ua|sm.ua|sumy.ua|te.ua|ternopil.ua|uz.ua|uzhgorod.ua|vinnica.ua|vinnytsia.ua|vn.ua|volyn.ua|yalta.ua|zaporizhzhe.ua|zaporizhzhia.ua|zhitomir.ua|zhytomyr.ua|zp.ua|zt.ua|co.uk|org.uk|me.uk|ltd.uk|plc.uk|net.uk|sch.uk|ac.uk|gov.uk|mod.uk|mil.uk|nhs.uk|police.uk)"),r=document.location.hostname;return r.match(t)?r.split(".").reverse().splice(0,3).reverse().join("."):r.split(".").reverse().splice(0,2).reverse().join(".")},WT.optimize.conversion=function(e,t){if(WT.consent&&!1===WT.consent.status){WT.consent.queue.push({type:"WT.optimize.conversion",values:{za69d:e,external:t}});return}var r={};try{if(WT.optimize.g_Aborted)return WT.Debug.error("conversion: Aborted due to prior error. See previous debug output for details",143),!0;"object"==typeof e&&(r=WT.paramsMerge(e)),r.s_requestType="conversion";var a=function(){var t=WT.common.TrackingPipeline,a=WT.common.Message,i=function(){var t=WT.optimize.lookup(r.testAlias);if(!WT.hasVal(t))throw Error("No run available for testAlias:"+r.testAlias);var a=new WT.optimize.PayloadBuilder;a.set("opt.conversion_point",r.conversionPoint),void 0!==e.eventType&&1===e.eventType?a.z35cbc(r):t.params.guid&&(a.zb096f(t.params.guid).z3965a(t.params.r_type).z3d54a(t.params.r_testID).zd871a(t.params.r_runID).zb63c5(t.params.r_runState).z6cdf8(t.params.s_domainKey),WT.hasVal(t.params.r_experimentID)&&""!==t.params.r_experimentID&&a.z9d870(t.params.r_experimentID),WT.hasVal(t.params.r_personalizedID)&&""!==t.params.r_personalizedID&&a.z9d870(t.params.r_personalizedID),WT.hasVal(e.userDefinedParams&&WT.hasVal(e.userDefinedParams.data)&&WT.hasVal(e.userDefinedParams.data.externalUID))&&a.set("opt.external_uid",e.userDefinedParams.data.externalUID)),a.set("WT.dl",WT.hasVal(r["WT.dl"])?r["WT.dl"]:1);try{return a.z35926()}catch(i){return WT.Debug.debug("Payload Error:"+i.message),{}}}();if(WT.common.extendObject(i).length()>0){var n=new a({endpoints:[],desc:"optimize conversion",payload:{},mutation:{conversion:!0}});WT.common.extendObject(i).forEach(function(e,t){n.setParam(t,e)}),t.enqueue(n)}else WT.Debug.debug("Not sending data to common collection for "+WT.common.JSONPrettify(r))};if(void 0===e.eventType||void 0!==e.eventType&&1!==e.eventType){if(WT.removeEventHandler(WT.Event.CONTROL_RESPONSE),WT.optimize.g_ConfigLoaded)this.Library._initialize(r);else{var i=this;WT.addEventHandler(WTEvent.CAPI_CONFIG,function(){i._initialize(r)})}}return t||a(),!1}catch(n){WT.Debug.error("Fatal error during conversion.",144,n);var o=new WT.Event(n.zbee9?n.zbee9:WT.Event.ABORT,WT.Event.STATUS_FAULT,this);return o.params.error=n,WT.fireEvent(o),!0}},WT.optimize.printTrackConv=function(e,t){var t=t.map(function(e){return e.split("-")[2]}).join(", ");WT.Debug.debug("send: "+JSON.stringify(e)),WT.Debug.debug("send ta: "+e.eventName+" ["+t+"]")},WT.optimize.trackFromString=function(e){if(navigator.sendBeacon&&window.Blob){var t=new Blob([e],{type:"text/plain"});navigator.sendBeacon(WT.CSURL,t)}else{var r=new XMLHttpRequest;r.open("POST",WT.CSURL,!0),r.setRequestHeader("Content-type","text/plain"),r.send(e)}},WT.optimize.trackConv=function(e,t,r){if(e)try{if(Object.keys(t).length)for(let a in t)t[a]=String(t[a]);var i=WT.optimize.g_ConfigParams,n=i.s_domainKey,o={};for(var s in r){var c=r[s];c=c.value,-1==s.indexOf("_wt.mode")&&(o[s]=JSON.parse(WT.optimize.Library.z7f69(c,i.s_keyToken)))}var u=new Date().toISOString().replace("T"," ").substring(0,19),d=function(){var e=-(new Date).getTimezoneOffset()/60;return 36e5*e},l=o[`_wt.user-${n}`],p=l.userSession.split("-")[1],f=[],h=[],g=[];for(var s in o){var m=o[s],v=s.indexOf("_wt.control")>-1,$="OUT"!=m.throttleResult,b=m.hasOwnProperty("pageTrack");if(v&&$&&b){g.push(s);var z=parseInt(`${m.testid}${m.runid}`),y=m.trackid;if(y<0&&(y=0),m.hasOwnProperty("targetData"))for(let T in y=0,m.targetData){var S=m.targetData[T];y=parseInt(S)}else y=y&&"NOTRACKID"==y?0:parseInt(y);h.push(z),f.push(y)}}var w={domainId:parseInt(n),testId:h,visitorId:l.uid,experimentId:f,sessionId:p,eventName:e,"user agent":navigator.userAgent,dateTime:u,timeZone:d(),customData:t};if(h.length>0&&f.length>0){var _=JSON.stringify(w);WT.optimize.trackFromString(_),WT.optimize.printTrackConv(w,g)}}catch(E){WT.Debug.error("unable to track")}},WT.fireEvent(new WTEvent(WTEvent.zd938,WTEvent.STATUS_SUCCESS),!0),WT.setExecuteState("optimize","ready");